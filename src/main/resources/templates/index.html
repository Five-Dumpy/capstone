<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/common :: head('사고 팔고 공구하고')">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />
  <!-- CSS -->
  <link rel="stylesheet" href="/static/css/index.css">
  <title>사고, 팔고, 공구하고</title>
</head>
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

<body>
  <div class="d-flex flex-column flex-md-row align-items-center p-2 px-md-2 bg-white border-bottom shadow-sm"
    th:replace="fragments/common :: menu">
    <div style="margin-left: 10%"></div>
    <img class="mr-2" src="/static/images/gbsw.png" width="40px" />
    <a class="mr-md-auto" th:href="@{/}"><img src="../static/images/title.png" th:src="@{/images/title.png}"></a>
    <div>
      <a class="toLink" href="">구매글</a>
      <a class="toLink" href="">판매글</a>
      <a class="toLink" href="">공구글</a>
    </div>
    <div style="margin-left: 12.5%;"></div>
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false">
      게시글 작성
    </a>
    <form class="form-inline mt-2 mt-md-0 text-center">
      <input class="form-control mr-sm-2" type="text" placeholder="" aria-label="Search" />
      <button class="btn btn-outline-primary my-2 my-sm-0 mx-auto" type="submit">검색</button>
    </form>
    <div class="dropdown-menu text-center" aria-labelledby="navbarDropdown">
      <a class="dropdown-item" href="#">판매글</a>
      <a class="dropdown-item" href="#">구매글</a>
      <a class="dropdown-item" href="#">공구글</a>
    </div>

    <div style="margin-left: 10%"></div>
  </div>

  <ul id="slider" style="border: none">
    <li>
      <img class="banner" src="/static/images/banner1.png" th:src="@{/images/banner1.png}" />
    </li>
    <li>
      <img class="banner" src="/static/images/banner2.png" th:src="@{/images/banner2.png}" />
    </li>
    <li>
      <img class="banner" src="/static/images/banner3.png" th:src="@{/images/banner3.png}" />
    </li>
  </ul>

  <div style="width: 79%; margin: 0 auto; margin-top: 20px;">
    <div class="buy-box" style="margin-top: 20px;">
      <div class="mb-2" style="display: flex; align-items: flex-end; justify-content: space-between;">
        <span style="font-family: 'Noto Sans KR', sans-serif; font-size: 35px;">최근 구매글</span>
        <a th:href="@{/board/buy/list}">
          <span>+ 더보기</span>
        </a>
      </div>
      <hr class="line" style="border: 1px solid gainsboro; margin-top: 0;">
      <div class="swiper mySwiper" style="display: flex;">
        <div class="swiper-wrapper">
          <a class="swiper-slide" th:each="buyBoard : ${buyBoards}" th:href="@{/board/buy(id=${buyBoard.id})}">
            <li class="img-form">
              <img style="max-height: 200px;" th:src="${buyBoard.filepath}">
            </li>
          </a>
        </div>
      </div>
    </div>
    <div class="sell-box" style="margin-top: 20px;">
      <div class="mb-2" style="display: flex; align-items: flex-end; justify-content: space-between;">
        <span style="font-family: 'Noto Sans KR', sans-serif; font-size: 35px;">최근 판매글</span>
        <a th:href="@{/board/sell/list}">
          <span>+ 더보기</span>
        </a>
      </div>
      <hr class="line" style="border: 1px solid gainsboro; margin-top: 0;">
      <div class="swiper mySwiper" style="display: flex;">
        <div class="swiper-wrapper">
          <a class="swiper-slide" th:each="sellBoard : ${sellBoards}" th:href="@{/board/sell(id=${sellBoard.id})}">
            <li class="img-form">
              <img style="max-height: 200px;" th:src="${sellBoard.filepath}">
            </li>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- banner -->
  <script>
    // Slide every slideDelay seconds
    const slideDelay = 4000;

    const dynamicSlider = document.getElementById("slider");

    var curSlide = 0;
    window.setInterval(() => {
      curSlide++;
      if (curSlide === dynamicSlider.childElementCount) {
        curSlide = 0;
      }
      dynamicSlider.firstElementChild.style.setProperty("margin-left", "-" + curSlide + "00%");
    }, slideDelay);
  </script>

  <!-- swiper js -->
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <!-- swiper -->
  <script>
    var swiper = new Swiper(".mySwiper", {
      slidesPerView: 10,
      slidesPerGroup: 1,
      autoplay: {
        delay: 1750,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pagination",
      }
    });
  </script>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
</body>

</html>